import React from 'react';
import { TouchableOpacity } from 'react-native';
import Svg, { G, Path, Defs, ClipPath, Rect } from 'react-native-svg';

interface IconProps {
  width?: number;
  height?: number;
  fill?: string;
  onPress?: () => void;
  style?: any;
}

const RepeatIcon: React.FC<IconProps> = ({
  width = 50,
  height = 50,
  fill = 'white',
  onPress,
  style,
}) => {
  const Icon = (
    <Svg
      width={width}
      height={height}
      viewBox="0 0 50 50"
      fill="none"
      style={style}
    >
      <G clipPath="url(#clip0)">
        <Path
          d="M46.0526 17.9884C47.0339 17.9884 47.98 18.378 48.7064 19.0811C49.4328 19.7842 49.8874 20.7505 49.9816 21.7915L50 22.1953V33.414C50 36.6583 48.8277 39.7781 46.7265 42.1256C44.6253 44.4731 41.7565 45.8681 38.7158 46.0209L38.1579 46.0349H15.9474L15.8947 46.91L15.8658 47.3026C15.7184 49.3192 13.8947 50.5841 12.3632 49.7287L11.5368 49.2575L10.5684 48.6713L10.0342 48.3376L8.87895 47.5831C8.05602 47.0292 7.24696 46.4521 6.45263 45.8526L5.43947 45.0673L4.58947 44.3802L4.22895 44.0801C2.9421 42.9863 2.99211 40.7285 4.36053 39.5758L4.71842 39.2757L5.56053 38.597L6.56053 37.8257L7.71316 36.9815C8.33169 36.5414 8.95812 36.1141 9.59211 35.6998L10.7132 34.9846L11.7 34.3928L12.5316 33.916C14.05 33.0746 15.7079 34.1544 15.8526 36.0363L15.9526 37.621H38.1579C39.1392 37.6209 40.0852 37.2313 40.8116 36.5282C41.538 35.8251 41.9926 34.8588 42.0868 33.8178L42.1053 33.414V22.1953C42.1053 21.0796 42.5211 20.0095 43.2614 19.2206C44.0017 18.4316 45.0057 17.9884 46.0526 17.9884ZM37.6368 0.271333L38.4632 0.742516L39.4316 1.32869C39.607 1.4334 39.7851 1.54465 39.9658 1.66244L41.1211 2.4169C41.944 2.97085 42.753 3.54787 43.5474 4.14737L44.5605 4.93267L45.4105 5.61982L45.7711 5.91991C47.0579 7.01373 47.0079 9.27148 45.6395 10.4242L45.2816 10.7243L44.4395 11.403L43.4395 12.1743C42.45 12.9165 41.439 13.6255 40.4079 14.3002L39.2868 15.0154L38.3 15.6072L37.4684 16.084C35.95 16.9254 34.2921 15.8456 34.15 13.9637L34.0447 12.379H11.8421C10.7952 12.379 9.79117 12.8223 9.05089 13.6112C8.31062 14.4002 7.89474 15.4703 7.89474 16.586V27.8047C7.89474 28.9204 7.47886 29.9905 6.73858 30.7795C5.9983 31.5684 4.99428 32.0116 3.94737 32.0116C2.90046 32.0116 1.89643 31.5684 1.15616 30.7795C0.415882 29.9905 0 28.9204 0 27.8047V16.586C0 13.2387 1.24765 10.0286 3.46847 7.66166C5.6893 5.29477 8.70138 3.96507 11.8421 3.96507H34.0526L34.1342 2.69736C34.2816 0.680812 36.1053 -0.584088 37.6368 0.271333Z"
          fill={fill}
        />
      </G>
      <Defs>
        <ClipPath id="clip0">
          <Rect width="50" height="50" fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  );

  return onPress ? (
    <TouchableOpacity onPress={onPress}>{Icon}</TouchableOpacity>
  ) : (
    Icon
  );
};

export default RepeatIcon;
