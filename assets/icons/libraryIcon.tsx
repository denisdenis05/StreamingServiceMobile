import React from 'react';
import { TouchableOpacity } from 'react-native';
import Svg, { G, Path, Defs, ClipPath, Rect } from 'react-native-svg';

interface LibraryIconProps {
  width?: number;
  height?: number;
  fill?: string;
  onPress?: () => void;
  style?: any;
}

const LibraryIcon: React.FC<LibraryIconProps> = ({
  width = 62,
  height = 61,
  fill = 'white',
  onPress,
  style,
}) => {
  const IconComponent = (
    <Svg
      width={width}
      height={height}
      viewBox="0 0 62 61"
      fill="none"
      style={style}
    >
      <G clipPath="url(#clip0_3_34)">
        <Path
          d="M16.5563 13.0776C16.5563 11.3066 17.2672 9.60811 18.5327 8.35583C19.7981 7.10355 21.5145 6.40002 23.3041 6.40002H28.0516C29.8135 6.39952 31.5057 7.081 32.7666 8.29883C34.0275 9.51666 34.7571 11.1742 34.7994 12.9173C35.4801 12.3979 36.2749 12.0032 37.1566 11.7688L43.9134 9.97621C44.7694 9.74911 45.6622 9.6911 46.5409 9.80549C47.4196 9.91988 48.2669 10.2044 49.0344 10.6429C49.8019 11.0814 50.4746 11.6652 51.0141 12.3609C51.5536 13.0567 51.9494 13.8508 52.1787 14.698L60.3331 44.8032C60.7956 46.5136 60.5528 48.3358 59.6581 49.869C58.7633 51.4023 57.2898 52.5211 55.5616 52.9795L48.8018 54.772C47.0734 55.2308 45.2317 54.9914 43.6817 54.1065C42.1317 53.2215 41.0003 51.7636 40.5365 50.0533L34.8024 28.8751V47.9521C34.8024 49.723 34.0914 51.4215 32.826 52.6738C31.5605 53.9261 29.8442 54.6296 28.0546 54.6296H23.3041C21.6438 54.6323 20.0412 54.0265 18.8056 52.929C17.5699 54.0265 15.9674 54.6323 14.307 54.6296H7.31031C6.42392 54.6296 5.54622 54.4568 4.72734 54.121C3.90846 53.7852 3.16446 53.2931 2.53783 52.6727C1.9112 52.0524 1.41422 51.3159 1.07529 50.5054C0.736353 49.6949 0.562107 48.8262 0.562501 47.9491V19.7551C0.562501 17.9841 1.27343 16.2856 2.53889 15.0334C3.80435 13.7811 5.52068 13.0776 7.31031 13.0776H14.307C15.0958 13.0776 15.8545 13.2111 16.5563 13.4574V13.0776ZM16.5563 47.9491V19.6898C16.5391 19.1108 16.2946 18.5613 15.8746 18.1579C15.4546 17.7545 14.8923 17.529 14.307 17.5292H7.31031C6.71376 17.5292 6.14165 17.7637 5.71983 18.1812C5.29801 18.5986 5.06104 19.1648 5.06104 19.7551V47.9491C5.06104 49.1778 6.06871 50.1749 7.31031 50.1749H14.307C14.8933 50.1751 15.4565 49.9488 15.8767 49.5441C16.2968 49.1394 16.5407 48.5884 16.5563 48.0084V47.9491ZM23.3041 50.1749H28.0516C28.6481 50.1749 29.2202 49.9404 29.642 49.523C30.0639 49.1056 30.3008 48.5394 30.3008 47.9491V13.0776C30.3008 12.4872 30.0639 11.9211 29.642 11.5036C29.2202 11.0862 28.6481 10.8517 28.0516 10.8517H23.3041C22.7076 10.8517 22.1354 11.0862 21.7136 11.5036C21.2918 11.9211 21.0548 12.4872 21.0548 13.0776V48.0084C21.0705 48.5884 21.3143 49.1394 21.7345 49.5441C22.1546 49.9488 22.7178 50.1751 23.3041 50.1749ZM36.7307 18.7965L44.8791 48.8958C44.9556 49.1782 45.0877 49.4429 45.2676 49.6748C45.4476 49.9067 45.6719 50.1012 45.9278 50.2473C46.1838 50.3934 46.4663 50.4881 46.7593 50.5261C47.0522 50.5641 47.3499 50.5446 47.6352 50.4687L54.392 48.6762C54.9677 48.5232 55.4584 48.1503 55.7564 47.6395C56.0545 47.1286 56.1354 46.5216 55.9815 45.9518L47.8361 15.8524C47.6815 15.2828 47.3047 14.7971 46.7885 14.5022C46.2723 14.2073 45.6589 14.1272 45.083 14.2795L38.3232 16.0691C38.0378 16.1448 37.7704 16.2755 37.536 16.4536C37.3017 16.6316 37.1051 16.8537 36.9575 17.1069C36.8099 17.3602 36.7142 17.6398 36.6758 17.9297C36.6374 18.2196 36.6541 18.5141 36.7307 18.7965Z"
          fill={fill}
        />
      </G>
      <Defs>
        <ClipPath id="clip0_3_34">
          <Rect
            width="61"
            height="60"
            fill="white"
            transform="translate(0.5 0.71875)"
          />
        </ClipPath>
      </Defs>
    </Svg>
  );

  if (onPress) {
    return (
      <TouchableOpacity onPress={onPress} activeOpacity={0.7}>
        {IconComponent}
      </TouchableOpacity>
    );
  }

  return IconComponent;
};

export default LibraryIcon;
